<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 630" fill="none">
  <style>
    @media (prefers-color-scheme: dark) {
      .bg { fill: #0e0c0a; }
      .text-primary { fill: #ede7df; }
      .text-secondary { fill: #9a8e82; }
      .accent { fill: #daa04e; }
      .accent-stroke { stroke: #daa04e; }
      .box-bg { fill: #1a1714; }
      .box-stroke { stroke: rgba(237,231,223,0.08); }
      .green { fill: #6ade8a; }
      .blue { fill: #6ab4de; }
      .orange { fill: #dea86a; }
      .line { stroke: #3a3530; }
      .dash { stroke: #9a8e82; }
      .sync-bg { fill: #daa04e; fill-opacity: 0.1; }
    }
    @media (prefers-color-scheme: light) {
      .bg { fill: #f8f4ee; }
      .text-primary { fill: #1a1410; }
      .text-secondary { fill: #6e6259; }
      .accent { fill: #c48a3f; }
      .accent-stroke { stroke: #c48a3f; }
      .box-bg { fill: #f0ebe3; }
      .box-stroke { stroke: rgba(26,20,16,0.1); }
      .green { fill: #2a9e4a; }
      .blue { fill: #3a7fbf; }
      .orange { fill: #bf7a2a; }
      .line { stroke: #e8e0d4; }
      .dash { stroke: #6e6259; }
      .sync-bg { fill: #c48a3f; fill-opacity: 0.08; }
    }
  </style>
  <rect class="bg" width="1200" height="630"/>

  <!-- Flow diagram -->
  <!-- User Action -->
  <rect class="box-bg" x="460" y="30" width="280" height="55" rx="28"/>
  <rect class="accent-stroke" x="460" y="30" width="280" height="55" rx="28" fill="none" stroke-width="2"/>
  <text class="text-primary" x="600" y="63" text-anchor="middle" font-family="system-ui,sans-serif" font-size="16" font-weight="700">User Action</text>

  <!-- Arrow down -->
  <line class="dash" x1="600" y1="85" x2="600" y2="115" stroke-width="2" stroke-dasharray="4 3"/>
  <polygon class="accent" points="593,112 607,112 600,122"/>

  <!-- Save Local -->
  <rect class="box-bg" x="360" y="125" width="480" height="70" rx="16"/>
  <rect class="box-stroke" x="360" y="125" width="480" height="70" rx="16" fill="none" stroke-width="1.5"/>
  <circle class="green" cx="395" cy="160" r="10"/>
  <text class="text-primary" x="415" y="153" font-family="system-ui,sans-serif" font-size="15" font-weight="700">Save to Local (Drift / SQLite)</text>
  <text class="green" x="415" y="175" font-family="system-ui,sans-serif" font-size="12" font-weight="600">Instant — always works — no network needed</text>

  <!-- Arrow down -->
  <line class="dash" x1="600" y1="195" x2="600" y2="225" stroke-width="2" stroke-dasharray="4 3"/>
  <polygon class="accent" points="593,222 607,222 600,232"/>

  <!-- UI Updates -->
  <rect class="box-bg" x="410" y="235" width="380" height="55" rx="16"/>
  <rect class="box-stroke" x="410" y="235" width="380" height="55" rx="16" fill="none" stroke-width="1.5"/>
  <text class="text-primary" x="600" y="268" text-anchor="middle" font-family="system-ui,sans-serif" font-size="15" font-weight="700">UI Updates Immediately</text>

  <!-- Arrow down (dashed for background) -->
  <line class="dash" x1="600" y1="290" x2="600" y2="330" stroke-width="2" stroke-dasharray="6 4"/>
  <text class="text-secondary" x="620" y="315" font-family="system-ui,sans-serif" font-size="11">background</text>

  <!-- Sync zone -->
  <rect class="sync-bg" x="200" y="340" width="800" height="150" rx="20"/>
  <rect class="accent-stroke" x="200" y="340" width="800" height="150" rx="20" fill="none" stroke-width="1.5" stroke-dasharray="8 4"/>

  <text class="accent" x="600" y="370" text-anchor="middle" font-family="system-ui,sans-serif" font-size="13" font-weight="600">BACKGROUND SYNC (best effort)</text>

  <!-- Two boxes: Push and Pull -->
  <rect class="box-bg" x="240" y="385" width="340" height="80" rx="12"/>
  <rect class="box-stroke" x="240" y="385" width="340" height="80" rx="12" fill="none" stroke-width="1"/>
  <text class="orange" x="260" y="415" font-family="system-ui,sans-serif" font-size="14" font-weight="700">Push Dirty Records</text>
  <text class="text-secondary" x="260" y="438" font-family="monospace" font-size="11">local.getDirty() → remote.upsert()</text>
  <text class="text-secondary" x="260" y="455" font-family="monospace" font-size="11">local.markClean(id)</text>

  <rect class="box-bg" x="620" y="385" width="340" height="80" rx="12"/>
  <rect class="box-stroke" x="620" y="385" width="340" height="80" rx="12" fill="none" stroke-width="1"/>
  <text class="blue" x="640" y="415" font-family="system-ui,sans-serif" font-size="14" font-weight="700">Pull Remote Changes</text>
  <text class="text-secondary" x="640" y="438" font-family="monospace" font-size="11">remote.getChangesSince(lastSync)</text>
  <text class="text-secondary" x="640" y="455" font-family="monospace" font-size="11">merge with last-write-wins</text>

  <!-- Title -->
  <text class="text-primary" x="600" y="545" text-anchor="middle" font-family="system-ui,sans-serif" font-size="36" font-weight="800">Offline-First Architecture</text>
  <text class="accent" x="600" y="582" text-anchor="middle" font-family="system-ui,sans-serif" font-size="20" font-weight="500">Drift + Supabase  ·  Save Local  ·  Sync Background</text>
  <text class="text-secondary" x="600" y="615" text-anchor="middle" font-family="system-ui,sans-serif" font-size="14">Flutter + Drift + Supabase</text>
</svg>
